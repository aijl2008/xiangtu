<!--pages/detail/detail.wxml-->
<view class="container">
  <video src="{{videoDetail.url}}" poster="{{videoDetail.cover_url}}" class="video"></video>

  <view class="video-msg-container">
    <text class="video-title">{{videoDetail.title}}</text>
    <text class="total-looked-number">{{videoDetail.played_number}}次观看 · {{videoDetail.created_at}}</text>
    <view class="share-msg-container">
      <view class="item-container" bindtap="changeCollection">
        <block wx:if="{{videoDetail.liked}}">
          <image class="icon" src="/images/liked.png"></image>
        </block>
        <block wx:else>
          <image class="icon" src="/images/like.png"></image>
        </block>

        <text class="number">{{videoDetail.liked_number}}</text>
      </view>
      <view class="item-container">
        <image class="icon" src="/images/icon48_wx_logo.png"></image>
        <text class="number">{{videoDetail.shared_wechat_number}}</text>
      </view>
      <view class="item-container">
        <image class="icon" src="/images/icon_res_download_moments.png"></image>
        <text class="number">{{videoDetail.shared_moment_number}}</text>
      </view>
    </view>
  </view>

  <view class="user-msg-container">
    <image class="user-header" src="{{videoDetail.wechat.avatar}}"></image>
    <text class="user-name">{{videoDetail.wechat.nickname}}</text>
    <block wx:if="{{videoDetail.wechat.followed}}">
      <text class="followed" bindtap="changeFollow">已关注</text>
    </block>
    <block wx:else>
      <text class="followe" bindtap="changeFollow">+ 关注</text>
    </block>
  </view>

  <view class="video-list-container">
    <view class="collection-left-container">
      <block wx:for="{{videoList}}" wx:key="id" wx:for-item="item">
        <block wx:if="{{index%2 == 0}}">
          <component-collection-item collection="{{item}}"></component-collection-item>
        </block>
      </block>
    </view>
    <view class="collection-right-container">
      <block wx:for="{{videoList}}" wx:key="id" wx:for-item="item">
        <block wx:if="{{index%2 == 1}}">
          <component-collection-item collection="{{item}}"></component-collection-item>
        </block>
      </block>
    </view>
  </view>
</view>
